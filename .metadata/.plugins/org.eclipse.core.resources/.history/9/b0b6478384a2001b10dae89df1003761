/*
 * I2STaskManager.cpp
 *
 *  Created on: Apr 21, 2021
 *      Author: chris
 */

#include <I2STaskManager.hpp>

#include <DSPManager.hpp>
#include <IIRFilterFx.hpp>

IIRFilterFx *iirfx;

#ifdef USE_FREERTOS

#else
	I2STaskManagerNoRTOS::I2STaskManagerNoRTOS()
	{
		iirfx = new IIRFilterFx();
		setDspManager(new  DSPManager(iirfx));
	}

	I2STaskManagerNoRTOS::~I2STaskManagerNoRTOS()
	{

	}

	void I2STaskManagerNoRTOS::nonRtosTask(uint8_t pData)
	{
		switch(pData)
		{
			case 1:
				//this->getDspManager()->getFx()->process_half_u16(	&this->getDspManager()->rxBuf,
				//													&this->getDspManager()->txBuf);

				iirfx->process_half_u16(	&this->getDspManager()->rxBuf,
																	&this->getDspManager()->txBuf);

				break;
			case 2:
				iirfx->process_full_u16(	&this->getDspManager()->rxBuf,
																	&this->getDspManager()->txBuf);


				break;
		}
	}
#endif

