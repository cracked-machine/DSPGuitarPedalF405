/*
 * AbstractState.hpp
 *
 *  Created on: Apr 12, 2021
 *      Author: chris
 */

#pragma once




// include the GPIO user labels generated by Cube (if we're building for target)


#include <stdint.h>
#include <iostream>
#include <ResourceManager.hpp>

class StateMachine;


class AbstractState
{

public:

	virtual void evFootswitchA(StateMachine *machine, DSPManager *dspman) = 0;
	virtual void evFootswitchB(StateMachine *machine, DSPManager *dspman) = 0;
	virtual void evUserSwitchA(StateMachine *machine, DSPManager *dspman) = 0;
	virtual void evUserSwitchB(StateMachine *machine, DSPManager *dspman) = 0;
	virtual void evRotaryEncoderA(StateMachine *machine, DSPManager *dspman) = 0;
	virtual void evRotaryEncoderB(StateMachine *machine, DSPManager *dspman) = 0;

	virtual ~AbstractState();

	void error_handler();

protected:

	void setState(StateMachine *machine, AbstractState *st);

};






