/*
 * IIRFilterFx.cpp
 *
 *  Created on: Apr 18, 2021
 *      Author: chris
 */

#include "IIRFilterFx.hpp"


IIRFilterFx::IIRFilterFx()
{
	  arm_biquad_cascade_df1_init_f32 ( &iirsettings_l, 1, &iir_coeffs[0], &iir_l_state[0]);
	  arm_biquad_cascade_df1_init_f32 ( &iirsettings_r, 1, &iir_coeffs[0], &iir_r_state[0]);
}

#ifndef ENABLE_IIR_BYPASS
	void IIRFilterFx::process_half_u16(	array<uint16_t, STEREO_BLOCK_SIZE_U16> *pRxBuf,
										array<uint16_t, STEREO_BLOCK_SIZE_U16> *pTxBuf)
	{
		  offset_r_ptr = 0;
		  offset_w_ptr = 0;
		  w_ptr = 0;
	}

	void IIRFilterFx::process_full_u16(	array<uint16_t, STEREO_BLOCK_SIZE_U16> *pRxBuf,
										array<uint16_t, STEREO_BLOCK_SIZE_U16> *pTxBuf)
	{
		offset_r_ptr = BLOCK_SIZE_U16;
		offset_w_ptr = BLOCK_SIZE_FLOAT;
		w_ptr = BLOCK_SIZE_FLOAT;

	}

	void IIRFilterFx::process_all_u16(	array<uint16_t, STEREO_BLOCK_SIZE_U16> *pRxBuf,
							array<uint16_t, STEREO_BLOCK_SIZE_U16> *pTxBuf);

#endif

