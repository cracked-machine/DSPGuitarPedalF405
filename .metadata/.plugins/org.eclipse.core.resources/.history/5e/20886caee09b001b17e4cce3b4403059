/*
 * EventMachine.cpp
 *
 *  Created on: Apr 12, 2021
 *      Author: chris
 */

#include "EventMachine.hpp"


#ifdef __cplusplus
	extern "C"
	{
#endif

EventMachine::EventMachine()
{
//	FxDisabledState stateFX_DISABLED = FxDisabledState();
//	FxEnabledState stateFX_ENABLED = FxEnabledState();

	states_list[EventMachine::FX_DISABLED] = new FxDisabledState();
	states_list[EventMachine::FX_ENABLED] = new FxEnabledState();

	state = states_list[EventMachine::FX_DISABLED];
}

EventMachine::~EventMachine()
{

		for(size_t i = 0; i < states_list.size(); i++)
			delete (AbstractState*)states_list[i];

}

void EventMachine::update()
{
	state->update(this, AbstractState::evFootSwA);
}

AbstractState * EventMachine::getState()
{
	return state;
}

#ifdef __cplusplus
	}
#endif
